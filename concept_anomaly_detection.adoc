---
sidebar: sidebar
permalink: concept_anomaly_detection.html
keywords: Anomalies, anomaly, patterns, monitor, alert
summary: Monitor metrics for anomalies
---
= Anomaly Detection
:toc: macro
:hardbreaks:
:nofooter:
:toclevels: 1
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
Anomaly Detection provides insight into anomalies in the patterns of data in your environment. An anomaly is a variation in a metric value for an object or group of objects, compared to historical information week over week. For example, if a pod's CPU utilization was at 50% on Tuesday at 12:05 PM in the previous week, but is at 100% this Tuesday at 12:05 PM, that would be considered an anomaly.

== A brief explanation of how Cloud Insights does this

An anomaly occurs when the mean value of a metric is a number of standard deviations away from the mean of that metric for the previous week. Cloud Insights provides the ability to monitor data and alert when anomalies are detected. You have a choice of whether to alert on detected patterns that are more likely (i.e. when the mean is fewer standard deviations away from normal), or less likely (more standard deviations away) to be determined to be an anomaly. 

Because Anomaly Detection works by comparing a metric's data on a particular day and time to the same day and time from the previous week, once you create an Anomaly Detection monitor, Cloud Insights needs to collect data for seven days before it can alert on anomalies.

== Alerting on anomalies

To alert on anomalies, create a monitor by navigating to *Observability > Alerts > +Monitor*. Select Anomaly Detection Monitor as the monitor type. 

image:Anomaly Detection Monitor Choice.png[Selecting Anomaly Detection when creating a monitor]

Choose the object and metric you want to monitor. You can set filters and grouping as with other types of monitors. 

Next, set the conditions for the monitor.  

* Trigger an alert when the selected metric either _Spikes above_ the predicted bounds, _Drops below_ those bounds, or both.
* Set sensitivity to _Medium_, _Low_ (fewer anomalies are detected), or _High_ (more anomalies are detected).
* Determine whether the alert level is _Critical_ or _Warning_.
* Optionally, set a value below which anomalies are _ignored_. This can help reduce noise. This value is shown as a dashed line on the sample graph.

image:Anomaly Detection Monitor Conditions.png[Setting conditions for Anomaly Detection monitor]

Finally, you can configure a delivery method for the alerts (email, webhook, or both), give the monitor an optional description or corrective actions, and add the monitor to a custom group, if desired.

Save the monitor with a meaningful name, and you're done. 

NOTE: Remember that once the monitor is created or modified, it will take seven days before you will see any alerts.



