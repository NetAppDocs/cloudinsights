---
sidebar: sidebar
permalink: security_admin_tool.html
summary:  Cloud Insights follows security best practices throughout the release life cycle.
keywords: security, risk, protection
---

= SecurityAdmin Tool

:toc: macro
:hardbreaks:
:toclevels: 2
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
Cloud Insights Includes security features that allow your environment to operate with enhanced security. The features include improvements to encryption, password hashing, and the ability to change internal user passwords as well as key pairs that encrypt and decrypt passwords. 

To protect sensitive data, NetApp recommends you change the default keys and the _Acquisition_ user password after an installation or upgrade.

Data source encrypted passwords are stored in Cloud Insights, which uses a a public key to encrypt passwords when a user enters them in a data collector configuration page. Cloud Insights does not have the private keys required to decrypt the data collector passwords; only Acquisition Units (AUs) have the data collector private key required to decrypt data collector passwords.  

== Upgrade and installation considerations

When your Insight system contains non-default security configurations (i.e. you have rekeyed passwords), you must back up your security configurations. Installing new software, or in some cases upgrading software, reverts your system to a default security configuration. When your system reverts to the default configuration, you must restore the non-default configuration in order for the system to operate correctly.

== Managing security on the acquisition unit

The SecurityAdmin tool allows you to manage security options for Cloud Insights, and is run on the acquisition unit system. Security management includes managing keys and passwords, saving and restoring security configurations you create or restoring configurations to the default settings.

== Before you begin

* You must have admin privileges on the AU system in order to install the Acquisition Unit software (which includes the SecurityAdmin tool).
* If you have non-admin users who will subsequently need to access the SecurityAdmin tool, they must be added to the _cisys_ group. The _cisys_ group is created during AU installation. 

After AU install, the SecurityAdmin tool is found on the acquisition unit system at either of these locations:

 *Windows - C:\Program Files\SANscreen\securityadmin\bin\securityadmin.bat
 *Linux - /bin/oci-securityadmin.sh

== Using the SecurityAdmin Tool

Start the SecurityAdmin tool in interactive mode (-i).
+
The following options are displayed:

image:SecurityAdminMenuChoices.png[Options for SecurityAdmin Tool (Linux)]

. Backup
+
Creates a backup zip file of the vault containing all passwords and keys and places the file in a location specified by the user, or in the following default locations:
+
 Windows - C:\Program Files\SANscreen\backup\vault
 Linux - /var/log/netapp/oci/backup/vault

. Restore
+
Restores the zip backup of the vault that was created. Once restored, all passwords and keys are reverted to values existing at the time of the backup creation.
+
Restore can be used to synchronize passwords and keys on multiple servers, for example: - Change encryption keys on the AU - Create a backup of the vault - Restore the vault backup to each of the AUs

. Register / Update External Key Retrieval Script
+
Use an external script to register or change the AU encryption keys used to encrypt or decrypt device passwords.
+
When you change encryption keys, you should back up your new security configuration so that you can restore it after an upgrade or installation.
+
Note this option is only available on Linux.

. Rotate Encryption Keys
+
Rotate your encryption keys (un-registers current keys and registers new keys)

////
* Update Password
+
Change password for 'acquisition' user account.
+
When you change passwords, you should back up your new security configuration so that you can restore it if necessary.
////

. Reset to Default Keys
+
Resets acquisition user password and acquisition user encryption keys to default values, Default values are those provided during installation.

. Change Trustore Password
+

. Change Keystore Password
+

. Encrypt Collector Password
+

. Exit
+
Exit the SecurityAdmin tool.

Chose the option you want to configure and follow the prompts.

== Using your own key retrieval script

When using your own key retrieval script with the SecurityAdmin tool (option 3 in the choices), keep the following in mind:

* The current supported Algorithm is RSA with minimum 2048 bits.  
* The script must return the private and public keys in plain text. The script must not return encrypted private and public keys. 
* The sScript should return raw, encoded contents (PEM format only). 


