---
sidebar: sidebar
permalink: concept_kubernetes_performance_monitoring_and_map.html
keywords: service map, workloads, Kubernetes, 
summary: Presents Kubernetes workload dependencies and flows and highlights network and performance issues
---

= Kubernetes Performance Monitoring and Map

:toc: macro
:hardbreaks:
:toclevels: 1
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
The Kubernetes Network Performance and Map feature simplifies troubleshooting by mapping dependencies between Kubernetes workloads. It provides real-time visibility into Kubernetes network performance latencies and anomalies to identify performance issues before they affect users.
This capability helps organizations reduce overall costs by analyzing and auditing Kubernetes traffic flows.

NOTE: The Kubernetes Network Performance and Map is a link:concept_preview_features.html[Preview] feature and is subject to change.

Key Features:
• The Workload Map presents Kubernetes workload dependencies and flows and highlights network and performance issues.
• Monitor network traffic between Kubernetes pods, workloads, and nodes; identifies the source of traffic and latency problems.
• Reduce overall costs by analyzing ingress, egress, cross-region, and cross-zone network traffic.

image:Workload Map Example_withSlideout.png[Workload Map example showing "Slideout" panel with details]

== Pre-Requisites

Before you can use the Kubernetes Network Performance and Map, you must have configured the link:task_config_telegraf_agent_k8s.html[NetApp Kubernetes Monitoring Operator] to enable this option. During deployment of the Operator, select the "Network Performance and Map" checkbox to enable. You can also enable this option by navigating to a Kubernetes landing page and selecting "Modify Deployment".

image:ServiceMap_NKMO_Deployment_Options.png[selecting the Map option during NKMO stup]

== Monitors

The Workload Map uses Cloud Insights link:task_create_monitor.html[monitors] 

== The Map

The Map shows services (also called workloads) and their relationships to each other. Arrows show directions of traffic. Hovering over a workload displays summary information for that workload, as you can see in this example:

image:ServiceMap_Simple_Example.png[Example of a Workload Map workload]

Icons within the circles represent different service types. Note that icons are only visible if the underlying objects have <<workload-labels, labels>>.

image:ServiceMap_Icons.png[Service Icons Explained]

The size of each circle indicates node size. Note that these sizes are relative, your browser zoom level or screen size may affect actual circle sizes.  In the same way, the traffic line style gives you an at-a-glance view of the connection size; bold solid lines are high traffic, while light dotted lines are lower traffic. 

Numbers inside the circles are the number of external connections currently being processed by the service.

image:ServiceMap_Node_and_Connection_Legend.png[legend showing relative circle (node) and connection sizes]


////
== Details

Hovering over a circle displays a summary of information for that service. 

image:Workload_Map_Summary.png[Workload Hover Summary]
////


== Workload Details and Alerts

Circles displayed in color indicate a warning- or critical-level alert for the workload.  Hover over the circle for a summary of the issue, or click on the circle to open a slideout panel with more detail.

image:Workload_Map_Slideout_with_Alert.png[Workload Slideout Details With Alerts]


== Filtering

As with other Cloud Insights features, you can easily set filters to focus on the specific objects or workload attributes you want.  

image:Workload_Map_Filtering.png[Workload Map filtering]



== Workload Labels

Workload labels are necessary if you want the Map to identify the types of workloads displayed (i.e. the circle icons).  Labels are derived as follows:

* Name of the service/application running in generic terms

* If the source is a pod:
** Derived from the workload label of the pod
** Expected label on the workload: app.kubernetes.io/component
** Label name reference: https://kubernetes.io/docs/concepts/overview/working-with-objects/common-labels/
** Recommended labels:
*** frontend
*** backend
*** database
*** cache
*** queue
*** kafka

* If the source external to k8s cluster:
** Try and parse the DNS resolved name and extract the service type
+
example: s3.eu-north-1.amazonaws.com
+
resolved name parsed to get s3 










