---
sidebar: sidebar
permalink: task_dc_na_astra_data_store.html
summary: Configure NetApp Astra Datastore
keywords: data collector, queries, create, astra, ads
---

= NetApp Astra Datastore data collector

:toc: macro
:hardbreaks:
:toclevels: 2
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]

The NetApp Astra Datastore datasource monitors and reports configuration and performance data for a single Astra Datastore (ADS) cluster. 

== Terminology

Cloud Insights acquires inventory and performance data from this collector. For each asset type acquired, the most common terminology used for the asset is shown. When viewing or troubleshooting this data collector, keep the following terminology in mind:

[cols=2*, options="header", cols"50,50"]
|===
|Vendor/Model Term | Cloud Insights Term
|AstraDSVolume|Internal Volume
|AstraDSNodeInfo.status.drives|Disk
|AstraDSNodeInfo|Storage Node
|AstraDSExportPolicy|Share / Share Initiator
|AstraDSCluster|Storage
|===


== Requirements

* The Acquisition Unit must be running in a Kubernetes pod inside the Astra Data Store Kubernetes cluster. See link:task_configure_acquisition_unit.html[Acquisition Unit installation] for more details.
//Alternative text: The Acquisition Unit must be deployed by the NetApp Monitoring Operator in the Astra Data Store Kubernetes cluster. See Acquisition Unit installation for more details.
** To install the Acquisition Unit, you will need a Cloud Insights link:API_Overview.html[API Key] with Read/Write  permissions to the categories: _Acquisition Unit, Data Collection, Data Ingestion_

** The Kubernetes API token used must grant read-only access to the _astrads.netapp.io_ apiGroup

* To retrieve the API token for the astrads-system default service account, run the following commands in a bash  shell:

 SECRET_NAME=$(kubectl get secrets -n astrads-system| grep ^default| cut -f1 -d ' ' )
 kubectl describe secret $SECRET_NAME -n astrads-system | grep -E '^token' | cut -f2 -d':' | tr -d " "
 

== Configuration
[cols=2*, options="header", cols"50,50"]
|===
|Field|Description
|Kubernetes API IP Address|The IP address of the kubernetes API server
|Kubernetes API Port|The port of the kubernetes API server
|Kubernetes API Token|Base64 encoded Kubernetes API token
|Include Cluster Names|Comma separated list of cluster names to monitor. Empty = monitor all clusters
|===

== Advanced Configuration

[cols=2*, options="header", cols"50,50"]
|===
|Field|Description
|Inventory Poll Interval (min)|Interval between inventory polls. The default is 60 minutes.
|Performance Poll Interval (sec)|Interval between performance polls. The default is 300 seconds. 
|ADS Metrics Endpoint|ADS cluster Metrics endpoint (May not be needed)
|===


== Installing the Astra Data Store collector

           
== Troubleshooting

Additional information on this Data Collector may be found from the link:concept_requesting_support.html[Support] page or in the link:https://docs.netapp.com/us-en/cloudinsights/CloudInsightsDataCollectorSupportMatrix.pdf[Data Collector Support Matrix].

